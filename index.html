<!DOCTYPE html>
<html>

    <head>
        <title>Tank Time</title>
        <style>
            html, body, canvas {
                width:100%;
                height:100%;
                padding:0px;
                margin:0px;
                overflow:hidden;
            }
            html {
                /*
                background:url("https://googledrive.com/host/0B-SZEiT_s4MARkhxZmJyb1ZCQlE/dirt.png");*/
            }
            body {
                background:none;
            }
        </style>
    </head>

    <body>
        <canvas id="c"></canvas>
        <script>
            var c = document.getElementById("c");
            var ctx = c.getContext("2d");
            var images = {};
            var playing = false;

            function loadImage(src, name) {
                var dirt_background = new Image();

                dirt_background.src = src;
                dirt_background.onload = function() {
                    images[name] = this;
                };
            }
            loadImage('https://googledrive.com/host/0B-SZEiT_s4MARkhxZmJyb1ZCQlE/dirt.png', "dirt");
            loadImage('https://googledrive.com/host/0B-SZEiT_s4MAVnZ2ckptQXNGSGs/tankBlue.png', "blueTank");
            loadImage('https://googledrive.com/host/0B-SZEiT_s4MAVnZ2ckptQXNGSGs/tankGreen.png', "greenTank");
            loadImage('https://googledrive.com/host/0B-SZEiT_s4MAVnZ2ckptQXNGSGs/tankRed.png', "redTank");
            
            loadImage('https://googledrive.com/host/0B-SZEiT_s4MAVnZ2ckptQXNGSGs/barrelBlue.png', "blueBarrel");
            loadImage('https://googledrive.com/host/0B-SZEiT_s4MAVnZ2ckptQXNGSGs/barrelGreen.png', "greenBarrel");
            loadImage('https://googledrive.com/host/0B-SZEiT_s4MAVnZ2ckptQXNGSGs/barrelRed.png', "redBarrel");

            window.addEventListener('resize', resizeCanvas, false);
            resizeCanvas();
             // Display custom canvas.
             // In this case it's a blue, 5 pixel border that
             // resizes along with the browser window.

            function draw() {
                ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);
                var time = new Date().getMilliseconds() / 1000 ;
                if (!playing) {
                    if (images.dirt != null) {
                        
                        //ctx.translate(time* images.dirt.width, time* images.dirt.width);
                        ctx.beginPath();
                        var pattern = ctx.createPattern(images.dirt, "repeat");
                        ctx.fillStyle = pattern;


                        ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);
                        ctx.fill();
                        //ctx.translate(-time* images.dirt.width, -time* images.dirt.width);
                    }
ctx.beginPath();
ctx.textAlign="center"; 
ctx.font="50px Verdana";
ctx.fillStyle="white";
ctx.translate((window.innerWidth) / 2, (window.innerHeight - 200) / 2);
ctx.rotate(Math.sin(time*Math.PI*2.0)/10.0);
ctx.fillText("Pick Your Team",0, 0);
ctx.fill();
//ctx.rotate(-Math.sin(time*Math.PI*2.0)/10.0);
//ctx.translate(-(window.innerWidth) / 2, -(window.innerHeight - 200) / 2);
ctx.setTransform(1,0,0,1,0,0);

                    
                    if (images.blueTank != null) {
                        ctx.drawImage(images.blueTank, (window.innerWidth - images.blueTank.width) / 2-100, (window.innerHeight - images.blueTank.height) / 2);
                    }
                    if (images.greenTank != null) {
                        ctx.drawImage(images.greenTank, (window.innerWidth - images.greenTank.width) / 2, (window.innerHeight - images.greenTank.height) / 2);
                    }
                    if (images.redTank != null) {
                        ctx.drawImage(images.redTank, (window.innerWidth - images.redTank.width) / 2+100, (window.innerHeight - images.redTank.height) / 2);
                    }
                    
                    if (images.blueBarrel != null) {
                        ctx.drawImage(images.blueBarrel, (window.innerWidth - images.blueBarrel.width) / 2-100, (window.innerHeight - images.blueBarrel.height*2+images.blueBarrel.width) / 2);
                    }
                    
                    if (images.greenBarrel != null) {
                        ctx.drawImage(images.greenBarrel, (window.innerWidth - images.blueBarrel.width) / 2, (window.innerHeight - images.blueBarrel.height*2+images.blueBarrel.width) / 2);
                    }
                    
                     if (images.redBarrel != null) {
                        ctx.drawImage(images.redBarrel, (window.innerWidth - images.blueBarrel.width) / 2+100, (window.innerHeight - images.blueBarrel.height*2+images.blueBarrel.width) / 2);
                    }
                }
            }
             // Runs each time the DOM window resize event fires.
             // Resets the canvas dimensions to match window,
             // then draws the new borders accordingly.

            function resizeCanvas() {
                c.width = window.innerWidth;
                c.height = window.innerHeight;
                draw();
            }
            window.setInterval(draw, 10);
        </script>
    </body>

</html>